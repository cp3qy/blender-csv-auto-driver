# Blender CSV 自动驱动插件 (CSV Auto Driver V7)

**适用环境：** Blender 3.0 ~ 4.x

---

## 简介
这是一个定制化的 Blender 自动化插件，它可以：直接读取 CSV 数据文件，根据时间轴上的数值变化，自动驱动场景中物体的**灯光、颜色、位置和纹理(UV)**动画。

---

## 安装方法
1. 打开 Blender。
2. 点击顶部菜单 **编辑 (Edit)** -> **偏好设置 (Preferences)**。
3. 选择左侧的 **插件 (Add-ons)** 栏目。
4. 点击右上角的 **安装 (Install...)** 按钮。
5. 选择提供的 `csv_auto_driver.py` (或 .zip) 文件并安装。
6. 勾选插件名称前面的复选框以启用。
7. 安装完成后，按键盘 **N** 键打开侧边栏，你会在 **"CSV Driver"** 标签页找到它。

---

## 使用前必读 (重要)
为了确保插件顺利运行，请在操作前检查你的场景：

1.  **帧率设置：** 建议将场景帧率设置为 **30 FPS**，以确保与你的 CSV 时间数据（80秒=2400帧）严格对齐。
2.  **材质要求：**
    *   如果要驱动**物体颜色**，请确保物体已经赋予了材质，且材质使用的是标准的“原理化 BSDF (Principled BSDF)”节点。
    *   如果要驱动**UV贴图**，请确保材质节点中包含名为 **"Mapping"** 的节点。
3.  **清理冲突：** 确保物体上没有缺失文件的缓存修改器（如 MeshSequenceCache），否则会导致画面不刷新。

---

## 操作指南

### 第一步：选择数据
在面板中点击文件夹图标，选择你的 `.csv` 数据文件。

### 第二步：选择驱动目标
选中场景中的一个物体，在下拉菜单中选择你要驱动的功能：

*   **💡 灯光功率 (Light Power)**：控制灯光的明暗强度。
*   **🎨 灯光颜色 (Light Color)**：控制灯光的黑白/灰度变化。
*   **🌈 物体材质颜色 (Mesh Color)**：控制长条等几何体的颜色闪烁。
*   **⬆️ 物体位置 Z (Position Z)**：控制物体上下跳动。
*   **🌊 UV 贴图位移 (UV Move)**：控制衣服/流体纹理的流动。

### 第三步：设置参数 (关键)
由于 CSV 中的原始数值较小 (约 0.08)，你需要设置**强度倍数**来放大效果：

| 驱动类型 | 推荐倍数 | 说明 |
| :--- | :--- | :--- |
| **灯光功率** | **500 ~ 1000** | 灯光瓦数需要很大才能亮起来。 |
| **物体颜色** | **10 ~ 20** | 让颜色从死黑变成亮灰色。 |
| **位置 Z** | **2 ~ 5** | 根据你想让它跳多高来定。 |
| **UV 贴图** | **5 ~ 10** | 让纹理流动得更明显。 |

### 第四步：时间微调
**“时间偏移”** 输入框用于对齐音乐卡点：
*   填 **0**：严格按照 CSV 时间。
*   填 **-5** (负数)：动画**提前** 5 帧开始。
*   填 **10** (正数)：动画**推后** 10 帧开始。

### 第五步：生成
点击 **“开始生成动画”** 按钮。
*   *提示：生成后请将时间轴拖动到 80秒 (约2400帧) 以后查看效果。*